<!-- Criado por Djonathan Quadras -->

# Questão 1.8 {-}

```{r, echo=FALSE, include=FALSE}
source("scripts/solution108.R", local = knitr::knit_global())
source("scripts/enunciados.R", local = knitr::knit_global())
dados <- selecionaDados(questao108, params$modelo)
sol <- solution(dados)
```

Um transformador trifásico abaixador de `r dados$S` VA, `r dados$V1`/`r dados$V2` V, `r dados$f` Hz, ligado em $Y$/$\Delta$ foi submetido a um ensaio de curto-circuito realizado pelo lado de baixa tensão (`r dados$V2`V) de onde se obteve a seguinte impedância equivalente, por fase: `r dados$Z` [$\Omega$]. Os seguintes resultados foram obtidos de um ensaio de circuito aberto, realizado pelo lado de baixa tensão, a `r dados$f` Hz: $P_{3\phi}$ = `r dados$P3PHI` W; $I_l$ = `r dados$IL` A; $V_l$ = `r dados$VL` V. O equipamento está alimentando uma carga trifásica equilibrada de `r dados$CARGA`W, com um fator de potência `r dados$FP` adiantado. A tensão na carga foi ajustada para `r dados$V2` V.

Para a sua versão, pede-se:

a. A tensão na fonte, a corrente e a potência aparente fornecidas pela fonte, referidas ao primário (lado 1), e o fator de potência “visto” pela fonte, usando o modelo impedância série;
b. O rendimento e a regulação do transformador, usando o modelo impedância série. Usar a potência do ensaio a vazio, se realizado com tensão nominal;
c. Comentar os resultados!

## Resolução {-}

Inicialmente, para facilitar os cálculos, será feita a conversão do formato $\Delta$ para um formato Y. Assim,

$$
Z_{eq} = \frac{`r dados[["Z"]]`}{3} \implies \boxed{`r round(sol[["ZEQ"]],4)`\Omega} 
$$

Como é pedido o sistema referido ao lado de alta tensão (primário), será inicialmente encontrado sistema para o secundário e então convertido para o primário (uma vez que todos os valores encontrados foram para o secundário). Inicialmente determina-se o parâmetro de conversão $a = \frac{`r dados[["V1"]]`}{(\sqrt{3})(`r dados[["V2"]]`)} = `r sol[["a"]]`$.

Define-se a tensão de fase na carga como $V_s = \frac{V_l}{\sqrt{3}} = `r round(sol[["vss"]],2)` V$. Também é possível determinar o ângulo de defasagem como $\phi = \arccos{`r dados[["FP"]]`} = `r sol[["phi"]]`^\circ$. Como $P_{3\phi} = (\sqrt{3})(V_{l})(I_{l})(fp)$, pode-se determinar a corrente de saída (no secundário.

$$
I_s = \frac{P_{3\phi}}{(\sqrt{3})(V_l)(fp)} = \frac{`r dados[["CARGA"]]`}{(\sqrt{3})(`r dados[["VL"]]`)(`r dados[["FP"]]`)}
$$

Assim,

$$
I_s = `r round(sol[["is"]],2)`A \quad \text{ou} \quad I_s = `r round(Mod(sol[["is"]]),2)` \angle `r round(rad2degree(Arg(sol[["is"]])),2)`^\circ A
$$

Com a corrente de saída, tensão na carga e impedâncias do circuito, é possível agora calcular a tensão na fonte (pelo lado secundário) por meio das Tensões de Kirchhoff.

$$
I_e = (Z_T)(I_c) + V_s = (`r dados[["Z"]]`)(`r sol[["is"]]`) + `r sol[["vss"]]`
$$

Assim,

$$
V_e = `r round(sol[["vps"]],2)` = `r round(Mod(sol[["vps"]]),2)` \angle `r round(rad2degree(Arg(sol[["vps"]])),2)` ^\circ V
$$


Considerando a Figura \@ref(fig:FIG108A), podemos encontrar os valores para o lado primário.

```{r FIG108A, fig.align='center', echo=FALSE, fig.cap='Relações entre Primário e Secundário', out.width='80%'}
knitr::include_graphics('images/prob18/001.jpg', dpi = NA)
```

Assim, temos:

```{r TAB108A, echo=FALSE}
resultados <- data.frame(T1 = c("$V_e$","$I_e$","$S_T$", "$fp$"),
                         T2 = c(paste(round(Mod(sol$vpp),2), "$\\angle ($", round(rad2degree(Arg(sol$vpp)),2), "$)^\\circ V$"),
                                paste(round(Mod(sol$ip),2),"$\\angle ($", round(rad2degree(Arg(sol$ip)),2), "$)^\\circ A$"),
                                paste(round(sol$sp,2),"VA"),
                                round(sol$fpp,2)))
colnames(resultados) <- c("Parâmetro", "Primário")
k <- knitr::kable(resultados, booktabs = T, escape = FALSE, caption = "Valores para Primário e Secundário")
kableExtra::kable_styling(k, latex_options = "hold_position")
```

O rendimento é calculado como

$$
\Re = \frac{|V_e|-|V_s|}{|V_s|} = \frac{`r round(Mod(sol[["vps"]]),2)` - `r round(Mod(sol[["vss"]]),2)`}{`r round(Mod(sol[["vss"]]),2)`} = `r round(sol[["re"]],2)` \implies \Re = `r round(100*sol[["re"]],2)` \%
$$

A regulação é definida por

$$
\eta = \frac{P_{s3\phi}}{P_{e3\phi}} = \frac{P_{s3\phi}}{P_{s3\phi} +P_{f3\phi}+P_{j3\phi}+P_{sup3\phi}}
$$

Assim,


$$
\eta = \frac{`r dados[["CARGA"]]`}{`r dados[["CARGA"]]` + `r dados[["P3PHI"]]` + `r sol[["pj3phi"]]` + 0} \implies \eta =`r round(100*sol[["n"]],2)` \%
$$

